= spring-security-u2ware

https://docs.spring.io/spring-boot/docs/1.5.13.RELEASE/reference/htmlsingle/[spring-boot-1.5.13.RELEASE] 에 의해 추가되는 https://docs.spring.io/spring-security/site/docs/4.2.6.RELEASE/reference/htmlsingle/[spring-security-4.2.6.RELEASE] 에 맞추어 개발되어 spring-boot 의 버전을 따르고 있습니다.

== Installation (POM)
[source,xml,indent=1]
----
<repository>
    <id>u2ware-mvm-repo</id>
    <url>https://raw.github.com/u2ware/u2ware.github.com/mvn-repo/</url>
</repository>

<dependency>
    <groupId>io.github.u2ware</groupId>
    <artifactId>spring-security-u2ware</artifactId>
    <version>1.5.13.RELEASE</version>
</dependency>
----

== RememberMeServices 

https://docs.spring.io/spring-security/site/docs/4.2.6.RELEASE/reference/htmlsingle/[spring-security] 는 
Cookie 에 저장된 Token 값을 분석하여 `RememberMeServices` 를 구현하는 
`TokenBasedRememberMeServices` 와 `PersistentTokenBasedRememberMeServices` 를 제공하고 있습니다.

이와 동일한 방식으로 *spring-security-u2ware* 는 Cookie 대신에 Header 를 이용하여 `RememberMeServices` 를 구현한 link:https://github.com/u2ware/spring-security-u2ware/tree/master/src/main/java/org/springframework/security/web/authentication/rememberme/HeaderTokenBasedRememberMeServices.java[HeaderTokenBasedRememberMeServices] 와 link:https://github.com/u2ware/spring-security-u2ware/tree/master/src/main/java/org/springframework/security/web/authentication/rememberme/PersistentHeaderTokenBasedRememberMeServices.java[PersistentHeaderTokenBasedRememberMeServices] 를 제공합니다.

또한, 3rd-part SSO(Single Sign On) 제품과 연동하여 `RememberMeServices` 를 구현해야 할 때, link:https://github.com/u2ware/spring-security-u2ware/tree/master/src/main/java/org/springframework/security/web/authentication/rememberme/AbstractSimpleRememberMeServices.java[AbstractSimpleRememberMeServices] 를 상속 받아서 구현 할 수 있습니다.
[source,java,indent=1]
----
public class Your_SSO_RememberMeService extends AbstractSimpleRememberMeServices {

    @Override
    protected UserDetails loadRememberMe(HttpServletRequest request, HttpServletResponse response) {
        // 3rd-part SSO 를 이용하여 로그인 여부를 확인 합니다. 
        return null;
    }

    @Override
    protected void saveRememberMe(HttpServletRequest request, HttpServletResponse response,
            Authentication successfulAuthentication) {
        // (필요에 따라) 로그인 성공 정보를 3rd-part SSO 에 전달합니다. 
    }

    @Override
    protected void cancelRememberMe(HttpServletRequest request, HttpServletResponse response) {
        // (필요에 따라) 로그인 실패 또는 로그아웃 정보를 3rd-part SSO 에 전달합니다. 
    }

}
----

== UserDetailsServiceDelegate

어플리케이션 내에서 `UserDetailsService` 를 여러 다양한 로직으로 구현하였을 때, spring-security 설정에서 사용할 수 있는 link:https://github.com/u2ware/spring-security-u2ware/tree/master/src/main/java/org/springframework/security/web/authentication/UserDetailsServiceDelegate.java[UserDetailsServiceDelegate] 를 제공합니다.

[source,java,indent=1]
----
@Configuration
@EnableWebSecurity
public class ApplicationSecurity extends WebSecurityConfigurerAdapter {

    @Autowired
    private UserDetailsService[] userDetailsServices;

    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.userDetailsService(new UserDetailsServiceDelegate(userDetailsServices));
    }

----

== License
spring-security-u2ware is Open Source software released under the
http://www.apache.org/licenses/LICENSE-2.0.html[Apache 2.0 license].
